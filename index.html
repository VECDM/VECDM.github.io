<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>404: M3M0</title>
    <style>
        body {
            background-color: black;
            color: #ccc;
            font-family: monospace;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            overflow: hidden;
        }
        
        #container {
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 80vw;
        }

        #terminal {
            width: 100%;
            height: 50vh;
            background-color: #111;
            padding: 10px;
            border: 1px solid #444;
            overflow: hidden;
            white-space: pre;
            font-size: 14px;
        }

        .vecdm {
            color: rgba(180, 130, 255, 0.5); /* Leggermente violaceo */
        }

        #graph {
            width: 100%;
            height: 20vh;
            background-color: #111;
            border-top: 1px solid #444;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            color: rgba(180, 130, 255, 0.5); /* Stesso tono del VECDM */
        }
    </style>
</head>
<body>

<div id="container">
    <div id="terminal"></div>
    <div id="graph">▁ ▂ ▃ ▅ ▆ ▇ █ ▇ ▆ ▅ ▃ ▂ ▁</div>
</div>

<script>
    const terminal = document.getElementById("terminal");
    const graph = document.getElementById("graph");

    const messages = [
        "Analyzing data...",
        "Processing signal...",
        "Decoding transmission...",
        "Error detected in sector 4A...",
        "Running diagnostics...",
        "Searching for anomalies...",
        "Cross-referencing data logs...",
        "Checksum failed. Retrying...",
        "Data stream unstable...",
        "Running pattern recognition...",
        "Partial decryption completed...",
        "Possible interference detected...",
        "Signal synchronization lost...",
        "Unexpected data sequence identified..."
    ];

    const vecdmVariants = ["V_CDM", "V3C_M", "VE_DM", "VEC_M"];

    function getRandomHexBlock(length) {
        let block = "";
        for (let i = 0; i < length; i++) {
            block += Math.floor(Math.random() * 16).toString(16).toUpperCase();
        }
        return block;
    }

    function getRandomGlitchedHex(length) {
        let block = getRandomHexBlock(length);
        if (Math.random() < 0.2) { // 20% possibilità di errore visivo
            let glitchPos = Math.floor(Math.random() * block.length);
            let glitchChar = ["@", "#", "%", "&", "?"][Math.floor(Math.random() * 5)];
            block = block.substring(0, glitchPos) + glitchChar + block.substring(glitchPos + 1);
        }
        return block;
    }

    function addTerminalMessage() {
        let message = messages[Math.floor(Math.random() * messages.length)];
        let corruptedIndex = Math.random() < 0.15; // 15% di possibilità di apparire
        let fullLine = message.padEnd(30, ' ') + getRandomGlitchedHex(20);

        if (corruptedIndex) {
            let vecdm = vecdmVariants[Math.floor(Math.random() * vecdmVariants.length)];
            fullLine = message.replace("...", ` ${vecdm} `).padEnd(30, ' ') + getRandomGlitchedHex(20);
            fullLine = fullLine.replace(vecdm, `<span class="vecdm">${vecdm}</span>`);
        }

        terminal.innerHTML += fullLine + "\n";
        terminal.scrollTop = terminal.scrollHeight;
    }

    function updateGraph() {
        let bars = "▁ ▂ ▃ ▄ ▅ ▆ ▇ █ ▇ ▆ ▅ ▃ ▂ ▁".split(" ");
        let randomGraph = Array.from({ length: 16 }, () => bars[Math.floor(Math.random() * bars.length)]).join(" ");
        graph.innerHTML = randomGraph;
    }

    setInterval(addTerminalMessage, 1200);
    setInterval(updateGraph, 1500);
</script>

</body>
</html>
